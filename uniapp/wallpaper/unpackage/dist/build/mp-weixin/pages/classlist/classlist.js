"use strict";const e=require("../../common/vendor.js"),a=require("../../api/apis.js");if(!Array){e.resolveComponent("uni-load-more")()}Math;const t={__name:"classlist",setup(t){const s=e.ref([]),l=e.ref(!1),i={pageNum:1,pageSize:12};let n;e.onLoad((a=>{let{id:t=null,name:s=null,type:l=null}=a;l&&(i.type=l),t&&(i.classid=t),n=s,e.index.setNavigationBarTitle({title:s}),o()}));const o=async()=>{let t;i.classid?t=await a.apiGetClassList(i):i.type&&(t=await a.apiGetHistory(i)),s.value=[...s.value,...t.data],i.pageSize>t.data.length&&(l.value=!0),e.index.setStorageSync("storageClassList",s.value)};return e.onReachBottom((()=>{l.value||(i.pageNum++,o())})),e.onShareAppMessage((e=>({title:"咸虾米壁纸-"+n,path:"/pages/classList/classList?id="+i.classid+"&name="+n}))),e.onShareTimeline((e=>({title:"咸虾米壁纸-"+n,query:"id="+i.classid+"&name="+n}))),e.onUnload((()=>{e.index.removeStorageSync("storageClassList")})),(a,t)=>e.e({a:!s.value.length},s.value.length?{}:{b:e.p({status:"loading"})},{c:e.f(s.value,((e,a,t)=>({a:e.smallPicurl,b:"/pages/preview/preview?id="+e._id,c:e._id}))),d:s.value.length||l.value},s.value.length||l.value?{e:e.p({status:l.value?"noMore":"loading"})}:{})}},s=e._export_sfc(t,[["__scopeId","data-v-cd44afa0"]]);t.__runtimeHooks=6,wx.createPage(s);
