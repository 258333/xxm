import{b as a,x as s,s as e,y as l,d as t,o as i,c as u,w as o,i as n,a as d,q as r,e as c,f as p,F as m,l as g,h as _}from"./index-CPlNJtwH.js";import{_ as v}from"./uni-load-more.DnN18eYL.js";import{g as f,h as y,i as h,j as L,o as j,a as w,k,r as x}from"./apis.BoSG89ws.js";import{_ as b}from"./_plugin-vue_export-helper.BCo6x5W8.js";const q=b({__name:"classlist",setup(b){const q=a([]),z=a(!1),C={pageNum:1,pageSize:12};let F;f((a=>{let{id:e=null,name:l=null,type:t=null}=a;t&&(C.type=t),e&&(C.classid=e),F=l,s({title:l}),N()}));const N=async()=>{let a;C.classid?a=await y(C):C.type&&(a=await h(C)),q.value=[...q.value,...a.data],C.pageSize>a.data.length&&(z.value=!0),e("storageClassList",q.value)};return L((()=>{z.value||(C.pageNum++,N())})),j((a=>({title:"咸虾米壁纸-"+F,path:"/pages/classList/classList?id="+C.classid+"&name="+F}))),w((a=>({title:"咸虾米壁纸-"+F,query:"id="+C.classid+"&name="+F}))),k((()=>{l("storageClassList")})),(a,s)=>{const e=x(t("uni-load-more"),v),l=n,f=g,y=_;return i(),u(l,{class:"classlist"},{default:o((()=>[q.value.length?r("",!0):(i(),u(l,{key:0,class:"loadingLayout"},{default:o((()=>[d(e,{status:"loading"})])),_:1})),d(l,{class:"content"},{default:o((()=>[(i(!0),c(m,null,p(q.value,(a=>(i(),u(y,{url:"/pages/preview/preview?id="+a._id,class:"item",key:a._id},{default:o((()=>[d(f,{src:a.smallPicurl,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["url"])))),128))])),_:1}),q.value.length||z.value?(i(),u(l,{key:1,class:"loadingLayout"},{default:o((()=>[d(e,{status:z.value?"noMore":"loading"},null,8,["status"])])),_:1})):r("",!0),d(l,{class:"safe-area-inset-bottom"})])),_:1})}}},[["__scopeId","data-v-cd44afa0"]]);export{q as default};
